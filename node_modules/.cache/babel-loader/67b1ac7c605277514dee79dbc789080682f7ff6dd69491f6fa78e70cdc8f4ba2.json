{"ast":null,"code":"import React from\"react\";import{Tooltip}from\"./Tooltip\";import\"./TalentTooltip.css\";import{useTalentContext}from\"../TalentContext\";import{getTalentRank,areReqPointsMet,isPrereqMet,isTalentUnlocked,getTalentData,getPointsLeft}from\"../TalentContext/selectors\";export const TalentTooltip=/*#__PURE__*/React.forwardRef((_ref,ref)=>{let{name,tree,...rest}=_ref;const{state,data}=useTalentContext();// TODO: all these getters are potentially costly & redundant\nconst pointsLeft=getPointsLeft(state);const talentData=getTalentData(data,tree,name);const prereqData=talentData.prereq?getTalentData(data,tree,talentData.prereq):null;const rank=getTalentRank(state,tree,name);const reqPointsMet=areReqPointsMet(state,data,tree,name);const prereqMet=isPrereqMet(state,data,tree,name);const unlocked=isTalentUnlocked(state,data,tree,name);return/*#__PURE__*/React.createElement(Tooltip,Object.assign({ref:ref,contentClassName:\"TalentTooltip-content\"},rest),/*#__PURE__*/React.createElement(\"h1\",{className:\"TalentTooltip-title\"},name),/*#__PURE__*/React.createElement(\"p\",{className:\"TalentTooltip-rank\"},\"Rank \",rank,\"/\",talentData.maxRank),!reqPointsMet&&/*#__PURE__*/React.createElement(\"p\",{className:\"TalentTooltip-error\"},\"Requires \",talentData.reqPoints,\" points in \",tree,\" Talents\"),prereqData&&!prereqMet&&/*#__PURE__*/React.createElement(\"p\",{className:\"TalentTooltip-error\"},\"Requires \",prereqData.maxRank,\" point\",prereqData.maxRank>1?\"s\":\"\",\" in \",prereqData.name),/*#__PURE__*/React.createElement(\"p\",{className:\"TalentTooltip-description\"},rank===0?talentData.description(rank+1):talentData.description(rank)),rank!==0&&rank<talentData.maxRank&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"p\",null,\"Next rank:\"),/*#__PURE__*/React.createElement(\"p\",{className:\"TalentTooltip-description\"},talentData.description(rank+1))),rank>0&&/*#__PURE__*/React.createElement(\"p\",{className:\"TalentTooltip-error\"},\"Right-click to unlearn\"),unlocked&&rank===0&&pointsLeft>0&&/*#__PURE__*/React.createElement(\"p\",{className:\"TalentTooltip-clickToLearn\"},\"Click to learn\"));});","map":{"version":3,"names":["React","Tooltip","useTalentContext","getTalentRank","areReqPointsMet","isPrereqMet","isTalentUnlocked","getTalentData","getPointsLeft","TalentTooltip","forwardRef","_ref","ref","name","tree","rest","state","data","pointsLeft","talentData","prereqData","prereq","rank","reqPointsMet","prereqMet","unlocked","createElement","Object","assign","contentClassName","className","maxRank","reqPoints","description","Fragment"],"sources":["D:/Warcraft/AAW-Talent-Calculator-master/src/components/TalentTooltip.tsx"],"sourcesContent":["import React from \"react\";\r\nimport { Tooltip } from \"./Tooltip\";\r\n\r\nimport \"./TalentTooltip.css\";\r\nimport { useTalentContext } from \"../TalentContext\";\r\nimport {\r\n  getTalentRank,\r\n  areReqPointsMet,\r\n  isPrereqMet,\r\n  isTalentUnlocked,\r\n  getTalentData,\r\n  getPointsLeft,\r\n} from \"../TalentContext/selectors\";\r\n\r\ninterface Props extends React.ComponentPropsWithoutRef<typeof Tooltip> {\r\n  name: string;\r\n  tree: string;\r\n}\r\n\r\nexport const TalentTooltip = React.forwardRef<HTMLDivElement, Props>(\r\n  ({ name, tree, ...rest }, ref) => {\r\n    const { state, data } = useTalentContext();\r\n\r\n    // TODO: all these getters are potentially costly & redundant\r\n    const pointsLeft = getPointsLeft(state);\r\n    const talentData = getTalentData(data, tree, name);\r\n    const prereqData = talentData.prereq\r\n      ? getTalentData(data, tree, talentData.prereq)\r\n      : null;\r\n    const rank = getTalentRank(state, tree, name);\r\n    const reqPointsMet = areReqPointsMet(state, data, tree, name);\r\n    const prereqMet = isPrereqMet(state, data, tree, name);\r\n    const unlocked = isTalentUnlocked(state, data, tree, name);\r\n\r\n    return (\r\n      <Tooltip ref={ref} contentClassName=\"TalentTooltip-content\" {...rest}>\r\n        <h1 className=\"TalentTooltip-title\">{name}</h1>\r\n        <p className=\"TalentTooltip-rank\">\r\n          Rank {rank}/{talentData.maxRank}\r\n        </p>\r\n        {!reqPointsMet && (\r\n          <p className=\"TalentTooltip-error\">\r\n            Requires {talentData.reqPoints} points in {tree} Talents\r\n          </p>\r\n        )}\r\n        {prereqData && !prereqMet && (\r\n          <p className=\"TalentTooltip-error\">\r\n            Requires {prereqData.maxRank} point\r\n            {prereqData.maxRank > 1 ? \"s\" : \"\"} in {prereqData.name}\r\n          </p>\r\n        )}\r\n        <p className=\"TalentTooltip-description\">\r\n          {rank === 0\r\n            ? talentData.description(rank + 1)\r\n            : talentData.description(rank)}\r\n        </p>\r\n        {rank !== 0 && rank < talentData.maxRank && (\r\n          <>\r\n            <br />\r\n            <p>Next rank:</p>\r\n            <p className=\"TalentTooltip-description\">\r\n              {talentData.description(rank + 1)}\r\n            </p>\r\n          </>\r\n        )}\r\n        {rank > 0 && (\r\n          <p className=\"TalentTooltip-error\">Right-click to unlearn</p>\r\n        )}\r\n        {unlocked && rank === 0 && pointsLeft > 0 && (\r\n          <p className=\"TalentTooltip-clickToLearn\">Click to learn</p>\r\n        )}\r\n      </Tooltip>\r\n    );\r\n  },\r\n);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}