{"ast":null,"code":"import _slicedToArray from\"D:/Warcraft/AAW-Talent-Calculator-master/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{encodeState,decodeState,trimEnd}from\"../utils\";var SPLIT_SYMBOL=\"-\";var getTreeStateFromHash=function getTreeStateFromHash(talentNames){var hash=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"\";var ranks=decodeState(hash);return talentNames.reduce(function(prev,name,i){prev[name]=ranks[i]||0;return prev;},{});};export var getStateFromHash=function getStateFromHash(data){var hash=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"\";var hashes=hash.split(SPLIT_SYMBOL);return Object.entries(data).reduce(function(prev,_ref,i){var _ref2=_slicedToArray(_ref,2),treeName=_ref2[0],treeData=_ref2[1];prev[treeName]=getTreeStateFromHash(Object.keys(treeData.talents),hashes[i]);return prev;},{});};export var getHashFromState=function getHashFromState(state){var hashes=Object.values(state).reduce(function(prev,ranks){var treeHash=encodeState(Object.values(ranks));prev.push(treeHash||\"0\");return prev;},[]);return trimEnd(\"0\",hashes).join(SPLIT_SYMBOL);};","map":{"version":3,"names":["encodeState","decodeState","trimEnd","SPLIT_SYMBOL","getTreeStateFromHash","talentNames","hash","arguments","length","undefined","ranks","reduce","prev","name","i","getStateFromHash","data","hashes","split","Object","entries","_ref","_ref2","_slicedToArray","treeName","treeData","keys","talents","getHashFromState","state","values","treeHash","push","join"],"sources":["D:/Warcraft/AAW-Talent-Calculator-master/src/TalentContext/encoding.ts"],"sourcesContent":["import { State, TalentData } from \"./types\";\r\nimport { encodeState, decodeState, trimEnd } from \"../utils\";\r\n\r\nconst SPLIT_SYMBOL = \"-\";\r\n\r\nconst getTreeStateFromHash = (talentNames: string[], hash: string = \"\") => {\r\n  const ranks = decodeState(hash);\r\n  return talentNames.reduce<Record<string, number>>((prev, name, i) => {\r\n    prev[name] = ranks[i] || 0;\r\n    return prev;\r\n  }, {});\r\n};\r\n\r\nexport const getStateFromHash = (data: TalentData, hash: string = \"\") => {\r\n  const hashes = hash.split(SPLIT_SYMBOL);\r\n  return Object.entries(data).reduce<State>((prev, [treeName, treeData], i) => {\r\n    prev[treeName] = getTreeStateFromHash(\r\n      Object.keys(treeData.talents),\r\n      hashes[i],\r\n    );\r\n    return prev;\r\n  }, {});\r\n};\r\n\r\nexport const getHashFromState = (state: State) => {\r\n  const hashes = Object.values(state).reduce<string[]>((prev, ranks) => {\r\n    const treeHash = encodeState(Object.values(ranks));\r\n    prev.push(treeHash || \"0\");\r\n    return prev;\r\n  }, []);\r\n  return trimEnd(\"0\", hashes).join(SPLIT_SYMBOL);\r\n};\r\n"],"mappings":"8HACA,OAASA,WAAW,CAAEC,WAAW,CAAEC,OAAO,KAAQ,UAAU,CAE5D,GAAM,CAAAC,YAAY,CAAG,GAAG,CAExB,GAAM,CAAAC,oBAAoB,CAAG,QAAvB,CAAAA,oBAAoBA,CAAIC,WAAqB,CAAwB,IAAtB,CAAAC,IAAY,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,EAAE,CACpE,GAAM,CAAAG,KAAK,CAAGT,WAAW,CAACK,IAAI,CAAC,CAC/B,MAAO,CAAAD,WAAW,CAACM,MAAM,CAAyB,SAACC,IAAI,CAAEC,IAAI,CAAEC,CAAC,CAAK,CACnEF,IAAI,CAACC,IAAI,CAAC,CAAGH,KAAK,CAACI,CAAC,CAAC,EAAI,CAAC,CAC1B,MAAO,CAAAF,IAAI,CACb,CAAC,CAAE,CAAC,CAAC,CAAC,CACR,CAAC,CAED,MAAO,IAAM,CAAAG,gBAAgB,CAAG,QAAnB,CAAAA,gBAAgBA,CAAIC,IAAgB,CAAwB,IAAtB,CAAAV,IAAY,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,EAAE,CAClE,GAAM,CAAAU,MAAM,CAAGX,IAAI,CAACY,KAAK,CAACf,YAAY,CAAC,CACvC,MAAO,CAAAgB,MAAM,CAACC,OAAO,CAACJ,IAAI,CAAC,CAACL,MAAM,CAAQ,SAACC,IAAI,CAAAS,IAAA,CAAwBP,CAAC,CAAK,KAAAQ,KAAA,CAAAC,cAAA,CAAAF,IAAA,IAA3BG,QAAQ,CAAAF,KAAA,IAAEG,QAAQ,CAAAH,KAAA,IAClEV,IAAI,CAACY,QAAQ,CAAC,CAAGpB,oBAAoB,CACnCe,MAAM,CAACO,IAAI,CAACD,QAAQ,CAACE,OAAO,CAAC,CAC7BV,MAAM,CAACH,CAAC,CACV,CAAC,CACD,MAAO,CAAAF,IAAI,CACb,CAAC,CAAE,CAAC,CAAC,CAAC,CACR,CAAC,CAED,MAAO,IAAM,CAAAgB,gBAAgB,CAAG,QAAnB,CAAAA,gBAAgBA,CAAIC,KAAY,CAAK,CAChD,GAAM,CAAAZ,MAAM,CAAGE,MAAM,CAACW,MAAM,CAACD,KAAK,CAAC,CAAClB,MAAM,CAAW,SAACC,IAAI,CAAEF,KAAK,CAAK,CACpE,GAAM,CAAAqB,QAAQ,CAAG/B,WAAW,CAACmB,MAAM,CAACW,MAAM,CAACpB,KAAK,CAAC,CAAC,CAClDE,IAAI,CAACoB,IAAI,CAACD,QAAQ,EAAI,GAAG,CAAC,CAC1B,MAAO,CAAAnB,IAAI,CACb,CAAC,CAAE,EAAE,CAAC,CACN,MAAO,CAAAV,OAAO,CAAC,GAAG,CAAEe,MAAM,CAAC,CAACgB,IAAI,CAAC9B,YAAY,CAAC,CAChD,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}