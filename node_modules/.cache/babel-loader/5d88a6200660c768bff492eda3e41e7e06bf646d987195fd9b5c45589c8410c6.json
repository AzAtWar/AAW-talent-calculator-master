{"ast":null,"code":"import _createForOfIteratorHelper from\"D:/Warcraft/AAW-Talent-Calculator-master/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";export var talentText=function talentText(string){for(var _len=arguments.length,expressions=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){expressions[_key-1]=arguments[_key];}return function(rank){var result=[string[0]];expressions.forEach(function(expression,i){result.push(expression[rank-1].toString(),string[i+1]);});return result.join(\"\");};};export var requireAll=function requireAll(requireContext){return requireContext.keys().reduce(function(prev,key){// todo: this regex is quite brittle\nvar name=key.replace(/\\.\\//,\"\").replace(/\\.[^.]+$/,\"\");prev[name]=requireContext(key);return prev;},{});};export var trimEnd=function trimEnd(trimVal,list){var lastSigIndex=list.length;while(list[lastSigIndex-1]===trimVal){lastSigIndex-=1;}return list.slice(0,lastSigIndex);};var glyphString=\"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ\";var glyphs=glyphString.split(\"\");var glyphMap=glyphs.reduce(function(prev,glyph,i){prev[glyph]=i;return prev;},{});// all numbers are from 0 to 5;\nexport var encodeState=function encodeState(numbers){var result=\"\";var trimmed=trimEnd(0,numbers);// divide numbers into pairs\n// encode them as a glyph\nfor(var i=0;i<trimmed.length;i+=2){var first=numbers[i];var second=numbers[i+1];var index=first*6+(second||0);result+=glyphs[index];}return result;};export var decodeState=function decodeState(hash){var chars=hash.split(\"\");var result=[];var _iterator=_createForOfIteratorHelper(chars),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var char=_step.value;var value=glyphMap[char];var first=Math.floor(value/6);var second=value%6;result.push(first,second);}}catch(err){_iterator.e(err);}finally{_iterator.f();}return result;};","map":{"version":3,"names":["talentText","string","_len","arguments","length","expressions","Array","_key","rank","result","forEach","expression","i","push","toString","join","requireAll","requireContext","keys","reduce","prev","key","name","replace","trimEnd","trimVal","list","lastSigIndex","slice","glyphString","glyphs","split","glyphMap","glyph","encodeState","numbers","trimmed","first","second","index","decodeState","hash","chars","_iterator","_createForOfIteratorHelper","_step","s","n","done","char","value","Math","floor","err","e","f"],"sources":["D:/Warcraft/AAW-Talent-Calculator-master/src/utils.ts"],"sourcesContent":["export const talentText = (\r\n  string: TemplateStringsArray,\r\n  ...expressions: (string | number)[][]\r\n) => (rank: number) => {\r\n  const result = [string[0]];\r\n  expressions.forEach((expression, i) => {\r\n    result.push(expression[rank - 1].toString(), string[i + 1]);\r\n  });\r\n  return result.join(\"\");\r\n};\r\n\r\nexport const requireAll = (\r\n  requireContext: __WebpackModuleApi.RequireContext,\r\n) => {\r\n  return requireContext.keys().reduce<Record<string, string>>((prev, key) => {\r\n    // todo: this regex is quite brittle\r\n    const name = key.replace(/\\.\\//, \"\").replace(/\\.[^.]+$/, \"\");\r\n    prev[name] = requireContext(key);\r\n    return prev;\r\n  }, {});\r\n};\r\n\r\nexport const trimEnd = <T>(trimVal: T, list: T[]) => {\r\n  let lastSigIndex = list.length;\r\n  while (list[lastSigIndex - 1] === trimVal) {\r\n    lastSigIndex -= 1;\r\n  }\r\n  return list.slice(0, lastSigIndex);\r\n};\r\n\r\nconst glyphString = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\r\nconst glyphs = glyphString.split(\"\");\r\nconst glyphMap = glyphs.reduce<Record<string, number>>((prev, glyph, i) => {\r\n  prev[glyph] = i;\r\n  return prev;\r\n}, {});\r\n\r\n// all numbers are from 0 to 5;\r\nexport const encodeState = (numbers: number[]) => {\r\n  let result = \"\";\r\n  const trimmed = trimEnd(0, numbers);\r\n\r\n  // divide numbers into pairs\r\n  // encode them as a glyph\r\n  for (let i = 0; i < trimmed.length; i += 2) {\r\n    const first = numbers[i];\r\n    const second = numbers[i + 1];\r\n    const index = first * 6 + (second || 0);\r\n    result += glyphs[index];\r\n  }\r\n  return result;\r\n};\r\n\r\nexport const decodeState = (hash: string) => {\r\n  const chars = hash.split(\"\");\r\n  let result = [];\r\n\r\n  for (let char of chars) {\r\n    const value = glyphMap[char];\r\n    const first = Math.floor(value / 6);\r\n    const second = value % 6;\r\n    result.push(first, second);\r\n  }\r\n  return result;\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}